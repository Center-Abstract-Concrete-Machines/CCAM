---
import { Image } from 'astro:assets';
import HorizontalSpacer from '../HorizontalSpacer.jsx';

const { image, title, type, author, year } = Astro.props.metadata;
const { slug } = Astro.props;

function randomBG() {
    const colors = [
        'bg-Orange',
        'bg-Green',
        'bg-Yellow',
        'bg-Purple',
        'bg-Blue',
    ];
    return colors[Math.floor(Math.random() * colors.length)];
}
---

<div class="hover:bg-backgroundHover/5">
    <HorizontalSpacer />
    <a href=`/resources/${slug}` class="flex gap-4 pb-4">
        <Image
            src={image.url}
            alt={image.alt}
            class="aspect-square object-contain object-center overflow-hidden max-w-full shrink-0"
        />
        <div>
            <h3 class="text-xl font-medium">{title}</h3>
            <div
                class="flex flex-wrap justify-start items-center gap-2 pt-2 font-mono text-xs"
            >
                <div
                    class=`flex justify-center items-center ${randomBG()} px-4 py-2 whitespace-nowrap`
                >
                    {type}
                </div>
                <div class="flex gap-2 flex-wrap">
                    {author}<span class="opacity-30">|</span>{year}
                </div>
            </div>
        </div>
    </a>
</div>
